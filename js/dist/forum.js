module.exports=function(t){var e={};function a(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=t,a.c=e,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(r,o,function(e){return t[e]}.bind(null,o));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=30)}([function(t,e){t.exports=flarum.core.compat["common/extend"]},function(t,e){t.exports=flarum.core.compat["common/Model"]},function(t,e){t.exports=flarum.core.compat["common/components/Button"]},function(t,e){t.exports=flarum.core.compat["common/app"]},function(t,e){t.exports=flarum.core.compat["components/DiscussionComposer"]},function(t,e){t.exports=flarum.core.compat["forum/app"]},function(t,e){t.exports=flarum.core.compat["common/components/Tooltip"]},function(t,e){t.exports=flarum.core.compat["common/states/ComposerState"]},function(t,e){t.exports=flarum.core.compat["common/components/ReplyComposer"]},function(t,e){t.exports=flarum.core.compat["common/utils/Stream"]},function(t,e){t.exports=flarum.core.compat["common/utils/ItemList"]},function(t,e){t.exports=flarum.core.compat["common/Component"]},function(t,e){t.exports=flarum.core.compat["common/components/LoadingIndicator"]},function(t,e){t.exports=flarum.core.compat["common/components/SettingsPage"]},function(t,e){t.exports=flarum.core.compat["common/models/User"]},function(t,e){t.exports=flarum.core.compat["common/helpers/icon"]},function(t,e){t.exports=flarum.core.compat["common/components/Alert"]},function(t,e){t.exports=flarum.core.compat["common/utils/mixin"]},function(t,e){t.exports=flarum.core.compat["common/components/Page"]},function(t,e){t.exports=flarum.core.compat["common/helpers/avatar"]},function(t,e){t.exports=flarum.core.compat["common/helpers/humanTime"]},function(t,e){t.exports=flarum.core.compat["common/utils/string"]},function(t,e){t.exports=flarum.core.compat["common/components/HeaderSecondary"]},function(t,e){t.exports=flarum.core.compat["common/components/NotificationsDropdown"]},function(t,e){t.exports=flarum.core.compat["common/components/FieldSet"]},function(t,e){t.exports=flarum.core.compat["common/components/Switch"]},function(t,e){t.exports=flarum.core.compat["common/components/Composer"]},function(t,e){t.exports=flarum.core.compat["components/ReplyComposer"]},function(t,e){t.exports=flarum.core.compat["common/components/Modal"]},function(t,e){t.exports=flarum.extensions["fof-byobu"]},function(t,e,a){"use strict";a.r(e),a.d(e,"components",(function(){return bt})),a.d(e,"models",(function(){return yt})),a.d(e,"states",(function(){return gt})),a.d(e,"utils",(function(){return xt}));var r=a(0),o=a(14),n=a.n(o),s=a(1),i=a.n(s),c=a(9),d=a.n(c);function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,u(t,e)}var f=a(10),p=a.n(f),h=a(17),v=function(t,e){return Array.isArray(t)?t.map(e).sort():e(t)},b=function(t){function e(){return t.apply(this,arguments)||this}return l(e,t),e}(a.n(h)()(i.a,{user:i.a.hasOne("user"),content:i.a.attribute("content"),title:i.a.attribute("title"),scheduledValidationError:i.a.attribute("scheduledValidationError"),relationships:i.a.attribute("relationships"),extra:i.a.attribute("extra"),scheduledFor:i.a.attribute("scheduledFor",i.a.transformDate),updatedAt:i.a.attribute("updatedAt",i.a.transformDate),loadedRelationships:null,type:function(){var t=this.loadRelationships();return t.discussion?"reply":flarum.extensions["fof-byobu"]&&flarum.extensions["fof-byobu"].discussions&&("recipientGroups"in t||"recipientUsers"in t)?"privateDiscussion":"discussion"},icon:function(){switch(this.type()){case"discussion":return"fas fa-edit";case"reply":return"fas fa-reply";case"privateDiscussion":var t=app.forum.data.attributes["byobu.icon-badge"];return t||"fas fa-eye-slash"}},loadRelationships:function(t){var e=this;if(!t&&this.loadedRelationships&&(Object.keys(this.loadedRelationships).length>0||0===Object.keys(this.loadedRelationships).length&&0===Object.keys(this.relationships).length))return this.loadedRelationships;this.loadedRelationships={};var a=this.relationships();if(a&&Object.keys(a).forEach((function(t){var r=a[t];r&&r.data&&(e.loadedRelationships[t]=v(r.data,(function(t){return app.store.getById(t.type,t.id)})))})),"recipientUsers"in this.loadedRelationships||"recipientGroups"in this.loadedRelationships){var r=new p.a;(this.loadedRelationships.recipientUsers||[]).forEach((function(t){t&&r.add("users:"+t.id(),t)})),(this.loadedRelationships.recipientGroups||[]).forEach((function(t){t&&r.add("groups:"+t.id(),t)})),this.loadedRelationships.recipients=r}return this.loadedRelationships},compileData:function(){var t={originalContent:this.content(),title:this.title(),user:app.session.user,confirmExit:app.translator.trans("fof-drafts.forum.composer.exit_alert"),draft:this,fields:Object.assign({},this.loadRelationships(),this.extra())};return Object.assign(t,t.fields),t}})),y=a(18),g=a.n(y),x=a(11),_=a.n(x),w=a(12),D=a.n(w),N=a(2),S=a.n(N),j=a(5),A=a.n(j),O=a(19),I=a.n(O),F=a(15),C=a.n(F),k=a(20),E=a.n(k),M=a(21),B=a(6),R=a.n(B),P=function(t){function e(){for(var e,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).canSchedule=A.a.forum.attribute("canScheduleDrafts")&&A.a.forum.attribute("drafts.enableScheduledDrafts"),e}l(e,t);var a=e.prototype;return a.oncreate=function(e){t.prototype.oncreate.call(this,e)},a.view=function(){var t=this.attrs,e=t.draft,a=t.state,r="far fa-calendar-plus";return e.scheduledValidationError()?r="far fa-calendar-times":e.scheduledFor()&&(r="far fa-calendar-check"),m("li",null,m("a",{onclick:a.showComposer.bind(a,e),className:"Notification draft--item"},I()(e.user()),C()(e.icon(),{className:"Notification-icon"}),m("span",{class:"Notification-title"},m("span",{className:"Notification-content"},e.scheduledFor()&&m(R.a,{showOnFocus:!1,text:A.a.translator.trans("fof-drafts.forum.dropdown.scheduled_icon_tooltip",{datetime:dayjs(e.scheduledFor()).format(A.a.translator.trans("fof-drafts.forum.dropdown.scheduled_icon_tooltip_formatter")[0])})},C()("far fa-clock",{className:"draft--scheduledIcon"})),"reply"===e.type()?e.loadRelationships().discussion.title():e.title()),m("span",{class:"Notification-title-spring"}),E()(e.updatedAt())),m("div",{class:"Notification-action"},m(R.a,{showOnFocus:!1,text:A.a.translator.trans("fof-drafts.forum.dropdown.delete_button")},m(S.a,{"data-container":"body",icon:"fas fa-trash-alt",className:"Notification-action Button Button--link hasIcon draft--delete",onclick:function(t){a.deleteDraft(e),t.stopPropagation()}})),this.canSchedule?m(R.a,{showOnFocus:!1,text:A.a.translator.trans("fof-drafts.forum.dropdown.schedule_button")},m(S.a,{"data-container":"body",icon:r,className:"Notification-action Button Button--link hasIcon draft--schedule",onclick:function(t){a.scheduleDraft(e),t.stopPropagation()}})):null),m("div",{className:"Notification-excerpt"},Object(M.truncate)(e.content(),200)),e.scheduledValidationError()?m("p",{className:"scheduledValidationError"},e.scheduledValidationError()):""))},e}(_.a),L=function(t){function e(){return t.apply(this,arguments)||this}l(e,t);var a=e.prototype;return a.oncreate=function(e){t.prototype.oncreate.call(this,e),$(".draft--delete").on("click tap",(function(t){t.stopPropagation()}))},a.deleteAll=function(){confirm(app.translator.trans("fof-drafts.forum.dropdown.delete_all_alert"))&&app.request({method:"DELETE",url:app.forum.attribute("apiUrl")+"/drafts/all"}).then((function(){app.store.data.drafts=[],m.redraw()}))},a.view=function(){var t=app.store.all("drafts"),e=this.attrs.state;return m("div",{className:"NotificationList DraftsList"},m("div",{className:"NotificationList-header"},m("h4",{className:"App-titleControl App-titleControl--text"},app.translator.trans("fof-drafts.forum.dropdown.title")),m("div",{class:"App-primaryControl"},m(R.a,{showOnFocus:!1,text:app.translator.trans("fof-drafts.forum.dropdown.delete_all_button")},m(S.a,{"data-container":"body",icon:"fas fa-trash-alt",className:"Button Button--link Button--icon Alert-dismiss",onclick:this.deleteAll.bind(this)})))),m("div",{className:"NotificationList-content"},m("ul",{className:"NotificationGroup-content"},t.length?t.sort((function(t,e){return e.updatedAt()-t.updatedAt()})).map((function(t){return m(P,{draft:t,state:e})})):null,e.loading?m(D.a,{display:"block"}):!t.length&&m("div",{className:"NotificationList-empty"},app.translator.trans("fof-drafts.forum.dropdown.empty_text")))))},e}(_.a),T=function(t){function e(){return t.apply(this,arguments)||this}l(e,t);var a=e.prototype;return a.oninit=function(e){t.prototype.oninit.call(this,e),app.history.push("drafts"),app.drafts.load(),this.bodyClass="App--drafts"},a.view=function(){return m("div",{className:"DraftsPage"},m(L,{state:app.drafts}))},e}(g.a),V=a(3),U=a.n(V),Y=a(22),G=a.n(Y),H=a(23),z=function(t){function e(){return t.apply(this,arguments)||this}l(e,t),e.initAttrs=function(e){e.label=e.label||app.translator.trans("fof-drafts.forum.dropdown.tooltip"),e.icon=e.icon||"fas fa-edit",t.initAttrs.call(this,e)};var a=e.prototype;return a.getMenu=function(){return m("div",{className:"Dropdown-menu "+this.attrs.menuClassName,onclick:this.menuClick.bind(this)},this.showing?L.component({state:this.attrs.state}):"")},a.goToRoute=function(){m.route.set(app.route("drafts"))},a.getUnreadCount=function(){return app.cache.draftsLoaded?app.store.all("drafts").length:app.store.all("drafts").length+app.session.user.draftCount()},a.getNewCount=function(){return this.getUnreadCount()},e}(a.n(H).a),q=a(24),J=a.n(q),K=a(13),Q=a.n(K),W=a(25),X=a.n(W),Z=a(26),tt=a.n(Z),et=a(4),at=a.n(et),rt=a(8),ot=a.n(rt),nt=a(7),st=a.n(nt),it=a(27),ct=a.n(it),dt=a(16),ut=a.n(dt),lt=a(28),ft=a.n(lt),pt=dayjs().format("YYYY-MM-DD"),mt=dayjs().format("HH:mm"),ht=function(t){function e(){for(var e,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).loading=!1,e.date=void 0,e.time=void 0,e.previewFormatString=void 0,e}l(e,t);var a=e.prototype;return a.oninit=function(e){t.prototype.oninit.call(this,e),this.date=this.isScheduled()?dayjs(this.attrs.draft.scheduledFor()).format("YYYY-MM-DD"):pt,this.time=this.isScheduled()?dayjs(this.attrs.draft.scheduledFor()).format("HH:mm"):mt,this.previewFormatString=app.translator.trans("fof-drafts.forum.schedule_draft_modal.schedule_time_preview_formatter")[0]},a.className=function(){return"ScheduleDraftModal"},a.title=function(){return app.translator.trans("fof-drafts.forum.schedule_draft_modal.title")},a.content=function(){var t=this;return this.loading?m(D.a,null):[this.attrs.draft.scheduledFor()?m("div",{className:"Modal-alert"},m(ut.a,{type:"success",dismissible:!1},app.translator.trans("fof-drafts.forum.schedule_draft_modal.scheduled_text",{datetime:this.formattedDateTime()}))):"",this.attrs.draft.scheduledValidationError()?m("div",{className:"Modal-alert"},m(ut.a,{type:"error",dismissible:!1},app.translator.trans("fof-drafts.forum.schedule_draft_modal.scheduled_error",{error:this.attrs.draft.scheduledValidationError()}))):"",m("input",{style:"display: none"}),m("div",{className:"Modal-body"},m("div",{className:"Form Form--centered"},m("p",{className:"helpText"},app.translator.trans("fof-drafts.forum.schedule_draft_modal.text")),m("div",{className:"Form-group ScheduleDraftModal-timeDateGroup"},m("input",{name:"scheduledForDate",className:"FormControl",type:"date",min:pt,value:this.date,onchange:function(e){return t.date=e.target.value}}),m("input",{name:"scheduledForTime",className:"FormControl",type:"time",value:this.time,onchange:function(e){return t.time=e.target.value}})),m("div",{class:"Form-group ScheduleDraftModal-datePreview"},app.translator.trans("fof-drafts.forum.schedule_draft_modal.schedule_time_preview",{datetime:this.formattedDateTime()})),m("div",{className:"Form-group ScheduleDraftModal-submitButtons"},this.isScheduled()&&m(S.a,{className:"ScheduleDraftModal-unscheduleBtn Button Button--block Button--danger",loading:this.loading,onclick:this.unschedule.bind(this)},app.translator.trans("fof-drafts.forum.schedule_draft_modal.unschedule_button")),m(S.a,{className:"ScheduleDraftModal-scheduleBtn Button Button--block Button--primary",type:"submit",loading:this.loading,disabled:!this.changed()},this.isScheduled()?app.translator.trans("fof-drafts.forum.schedule_draft_modal.reschedule_button"):app.translator.trans("fof-drafts.forum.schedule_draft_modal.schedule_button")))))]},a.scheduledFor=function(){return new Date(this.date+" "+this.time)||null},a.changed=function(){var t=function(t){return t&&t.getTime()||null};return t(this.scheduledFor())!==t(this.attrs.draft.scheduledFor())},a.isScheduled=function(){return!!this.attrs.draft.scheduledFor()},a.formattedDateTime=function(){return dayjs(this.scheduledFor()).format(this.previewFormatString)},a.unschedule=function(t){var e=this;t.preventDefault(),this.loading=!0,confirm(app.translator.trans("fof-drafts.forum.schedule_draft_modal.unschedule_warning"))&&this.attrs.draft.save({scheduledFor:null,clearValidationError:!0,scheduledValidationError:""}).then((function(){e.success=!0,e.hide.call(e)})).catch((function(){})).then(this.loaded.bind(this))},a.onsubmit=function(t){var e=this;t.preventDefault(),this.loading=!0,this.attrs.draft.save({scheduledFor:this.scheduledFor(),clearValidationError:!0,scheduledValidationError:""}).then((function(){return e.success=!0})).catch((function(){})).then(this.loaded.bind(this))},e}(ft.a),vt=function(){function t(t){this.app=t,this.loading=!1,this.cache=[]}var e=t.prototype;return e.deleteDraft=function(t){var e=this;window.confirm(app.translator.trans("fof-drafts.forum.dropdown.alert"))&&(this.loading=!0,t.delete().then((function(){app.composer.body&&app.composer.draft&&app.composer.draft.id()===t.id()&&!app.composer.changed()&&app.composer.hide(),e.loading=!1,m.redraw()})))},e.scheduleDraft=function(t){app.forum.attribute("canScheduleDrafts")&&app.forum.attribute("drafts.enableScheduledDrafts")&&app.modal.show(ht,{draft:t})},e.showComposer=function(t){if(!this.loading)return new Promise((function(e){var r;switch(t.type()){case"privateDiscussion":r=a(29).discussions.PrivateDiscussionComposer;break;case"reply":r=ct.a;break;default:r=at.a}var o=t.compileData();return app.composer.load(r,o),app.composer.show(),Object.assign(app.composer.fields,o.fields),e(app.composer)}))},e.load=function(){var t=this;app.cache.draftsLoaded||(this.loading=!0,m.redraw(),app.store.find("drafts").then((function(){return app.cache.draftsLoaded=!0}),(function(){})).then((function(){t.loading=!1,m.redraw()})))},t}(),bt={DraftsDropdown:z,DraftsList:L,DraftsListItem:P,DraftsPage:T,ScheduleDraftModal:ht},yt={Draft:b},gt={DraftsListState:vt},xt={fillRelationship:v};function _t(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(a)return(a=a.call(t)).next.bind(a);if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"==typeof t)return wt(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return wt(t,e)}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function wt(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}app.initializers.add("fof-drafts",(function(){function t(){var t=this;Object.keys(this.attrs).forEach((function(e){["originalContent","title","user"].includes(e)?"title"===e&&(t.title=d()(t.attrs.title)):t[e]=t.attrs[e]})),this.data&&(this.composer.data=this.data.bind(this)),this.attrs.draft&&(this.composer.draft=this.attrs.draft)}function e(){this.composer.draft&&this.composer.draft.delete()}app.store.models.drafts=b,n.a.prototype.drafts=i.a.hasMany("drafts"),n.a.prototype.draftCount=i.a.attribute("draftCount"),app.routes.drafts={path:"/drafts",component:T},app.drafts=new vt(app),st.a.prototype.changed=function(){var t=this;if(!this.body||!this.data)return!1;var e=this.data(),a=this.draft,r=Object.keys(e).filter((function(t){return"relationships"!==t}));if(!r)return!1;if(!this.fields.content())return!1;for(var o,n=function(a){return("content"===a?t.fields.content():e[a])||""},s=_t(r);!(o=s()).done;){var i=o.value;if(!a&&n(i)||a&&n(i)!=a.data.attributes[i])return!0}if(!e.relationships&&!a.relationships())return!1;for(var c=function(t,e,a){if(!(t.relationships[a]&&t.relationships[a].length||a in e.relationships()&&e.relationships()[a].data.length))return!0;if(!(a in e.relationships())||t.relationships[a].length!==e.relationships()[a].data.length)return!1;var r=function(t){return"function"==typeof t.id?t.id():t.id},o=v(t.relationships[a],r),n=v(e.relationships()[a].data,r);return!o.some((function(t,e){return t!==n[e]}))},d=0,u=Object.keys(e.relationships);d<u.length;d++){var l=u[d];if(a){if(!c(e,a,l))return!0}else if(e.relationships[l])return!0}return!1},st.a.prototype.saveDraft=function(){var t=this;this.saving=!0,m.redraw();var e=function(){t.saving=!1,t.justSaved=!0,setTimeout((function(){t.justSaved=!1,m.redraw()}),300),m.redraw()},a=this.draft;a&&a.id()&&!a.exists||(a?(delete a.data.attributes.relationships,a.save(Object.assign(a.data.attributes,this.data())).then((function(){return e()}))):app.store.createRecord("drafts").save(this.data()).then((function(a){a.loadRelationships(!0),t.draft=a,e()})))},Object(r.extend)(tt.a.prototype,"controlItems",(function(t){if((this.state.bodyMatches(at.a)||this.state.bodyMatches(ot.a))&&app.forum.attribute("canSaveDrafts")&&"minimized"!==this.state.position){var e=["Button","Button--icon","Button--link"];this.state.saving&&e.push("saving"),this.state.justSaved&&e.push("justSaved"),t.add("save-draft",S.a.component({icon:this.state.justSaved?"fas fa-check":this.state.saving?"fas fa-spinner fa-spin":"fas fa-save",className:e.join(" "),itemClassName:"App-backControl",title:app.translator.trans("fof-drafts.forum.composer.title"),disabled:this.state.saving||this.state.justSaved||this.loading,onclick:this.state.saveDraft.bind(this.state)}),20)}})),Object(r.extend)(st.a.prototype,"load",(function(){var t=this;app.forum.attribute("canSaveDrafts")&&app.session.user.preferences().draftAutosaveEnable&&(this.bodyMatches(at.a)||this.bodyMatches(ot.a))&&(this.autosaveInterval=setInterval((function(){!t.changed()||t.saving||t.loading||t.saveDraft()}),1e3*app.session.user.preferences().draftAutosaveInterval))})),Object(r.extend)(st.a.prototype,"clear",(function(){this.draft=null,this.autosaveInterval&&clearInterval(this.autosaveInterval)})),Object(r.override)(st.a.prototype,"preventExit",(function(t){this.body&&this.body.componentClass&&this.draft&&(this.body.attrs.confirmExit=app.translator.trans("fof-drafts.forum.composer.exit_alert"));var e=!1;if(this.changed()&&(e=t()),e)return e;if(this.body&&this.body.componentClass){var a=this.draft;return a&&!a.title()&&!a.content()&&confirm(app.translator.trans("fof-drafts.forum.composer.discard_empty_draft_alert"))&&a.delete(),e}})),Object(r.extend)(at.a.prototype,"oninit",t),Object(r.extend)(ot.a.prototype,"oninit",t),Object(r.extend)(at.a.prototype,"onsubmit",e),Object(r.extend)(ot.a.prototype,"onsubmit",e),Object(r.extend)(G.a.prototype,"items",(function(t){U.a.session.user&&U.a.forum.attribute("canSaveDrafts")&&t.add("Drafts",m(z,{state:U.a.drafts}),20)})),Object(r.extend)(Q.a.prototype,"oninit",(function(){this.draftAutosaveInterval=d()(this.user.preferences().draftAutosaveInterval)})),Object(r.extend)(Q.a.prototype,"settingsItems",(function(t){app.forum.data.attributes.canSaveDrafts&&t.add("drafts",J.a.component({label:app.translator.trans("fof-drafts.forum.user.settings.drafts_heading"),className:"Settings-drafts"},this.draftsItems().toArray()))})),Q.a.prototype.draftsItems=function(){var t=this,e=new p.a;return e.add("draft-autosave-enable",X.a.component({state:this.user.preferences().draftAutosaveEnable,onchange:function(e){t.draftAutosaveEnableLoading=!0,t.user.savePreferences({draftAutosaveEnable:e}).then((function(){t.draftAutosaveEnableLoading=!1,m.redraw()}))},loading:this.draftAutosaveEnableLoading},app.translator.trans("fof-drafts.forum.user.settings.draft_autosave_enable"))),e.add("draft-autosave-interval",this.user.preferences().draftAutosaveEnable?m("label",null,m("p",null,app.translator.trans("fof-drafts.forum.user.settings.draft_autosave_interval_label")),m("input",{className:"FormControl",type:"number",min:"0",bidi:this.draftAutosaveInterval}),S.a.component({className:"Button Button--primary",onclick:function(){var e;t.draftAutosaveInterval()<0||(e=t.draftAutosaveInterval())!=Math.round(e)?(t.draftAutosaveIntervalInvalid=!0,t.draftAutosaveInterval(t.user.preferences().draftAutosaveInterval),m.redraw()):(t.draftAutosaveIntervalInvalid=!1,t.user.savePreferences({draftAutosaveInterval:t.draftAutosaveInterval()}).then((function(){m.redraw()})))}},app.translator.trans("fof-drafts.forum.user.settings.draft_autosave_interval_button")),this.draftAutosaveIntervalInvalid?m("p",{class:"invalidInterval"},m("small",null,app.translator.trans("fof-drafts.forum.user.settings.draft_autosave_interval_invalid"))):""):m("p",null)),e}}))}]);
//# sourceMappingURL=forum.js.map